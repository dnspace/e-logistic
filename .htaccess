Options All -Indexes

<IfModule mod_rewrite.c>
  RewriteEngine On
  
  RewriteCond $1 !^(index\.php|resources|robots\.txt)
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteRule ^(.*)$ index.php/$1 [L,QSA]

  RewriteCond %{REQUEST_METHOD} OPTIONS
  RewriteRule ^(.*)$ $1 [R=200,L]

  RewriteCond %{HTTPS} !on
  RewriteCond %{HTTP_HOST} !=localhost
  RewriteCond %{HTTP_HOST} !=127.0.0.1
  RewriteCond %{REMOTE_ADDR} !=127.0.0.1
  RewriteCond %{REMOTE_ADDR} !=::1
  RewriteCond %{HTTP_HOST} !^localhost(?::\d+)?$ [NC]
  RewriteCond %{HTTP_HOST} !^127\.0\.0\.1(?::\d+)?$
  RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]
  # RewriteRule .* https://%{SERVER_NAME}%{REQUEST_URI} [R,L]
  RewriteCond %{REQUEST_URI} !^/\.well-known/pki-validation/[A-F0-9]{32}\.txt(?:\ Comodo\ DCV)?$
</IfModule>

<IfModule !mod_rewrite.c>
  # If we don't have mod_rewrite installed, all 404's
  # can be sent to index.php, and everything works as normal.
  # Submitted by: ElliotHaughin

  ErrorDocument 404 /index.php
</IfModule>

#php_value memory_limit 512M